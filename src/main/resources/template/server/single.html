<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/base}"
      layout:fragment="Content"
>
<body>
<div class="container-fluid">

    <!-- Page Heading -->
    <h1 class="h3 mb-4 text-gray-800" th:text="${serverName}"></h1>
    <div class="card shadow mb-5 m-5">
        <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary" th:text="${serverName}"></h6>
        </div>
        <div class="card-body">
            <div class="mb-2 mt-0 text-right">
                <button id="modifyServerBtn" class="btn btn-sm btn-primary btn-icon-split">
                    <span class="text">Modify</span>
                </button>
                <button id="deleteServerBtn" class="btn btn-sm btn-danger btn-icon-split">
                    <span class="text">Delete</span>
                </button>
            </div>

            <h4 class="small font-weight-bold">Container Running Stat
                <span class="float-right text-danger">exit</span>
                <span class="float-right"> / </span>
                <span class="float-right text-primary">running</span>
            </h4>
            <div class="progress mb-4">
                <div class="progress-bar bg-danger" role="progressbar" id="exitStat" style="width: 0%"
                     aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">exit
                </div>
                <div class="progress-bar bg-primary" role="progressbar" id="runningStat" style="width: 0%"
                     aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">running
                </div>
            </div>
            <h6 class="mb-2 font-weight-bold text-gray-800">⌘ Server Info</h6>
            <ol class="mb-4 list-group list-group-numbered">
                <li class="list-group-item d-flex justify-content-between align-items-start">
                    <div class="ms-2 me-auto">
                        <div class="font-weight-bold text-primary">Name</div>
                        <span id="name"></span>
                    </div>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-start">
                    <div class="ms-2 me-auto">
                        <div class="font-weight-bold text-primary">url</div>
                        <span id="url"></span>
                    </div>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-start">
                    <div class="ms-2 me-auto">
                        <div class="font-weight-bold text-primary">serverType</div>
                        <span id="serverType"></span>
                    </div>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-start">
                    <div class="ms-2 me-auto">
                        <div class="font-weight-bold text-primary">Manager Id</div>
                        <span id="managerId"></span>
                    </div>
                </li>
            </ol>
            <h6 class="mb-2 font-weight-bold text-gray-800">⌘ Container List</h6>
            <ol class="mb-4 list-group list-group-numbered">
                <li class="list-group-item">
                    <div class="ms-2 me-auto">
                        <button class="mb-1 btn btn-sm btn-primary btn-icon-split float-right" data-target="#containerCreateModal" data-toggle="modal">
                            <span class="text">Add</span>
                        </button>
                        <div class="font-weight-bold text-primary">Containers</div>
                        <div class="table-responsive">
                            <table class="table table-bordered" id="containerTable" width="100%" cellspacing="0">
                                <thead>
                                <tr>
                                    <th class="text-center">Running</th>
                                    <th class="text-center">Name</th>
                                    <th>Id</th>
                                    <th>ImageRepository</th>
                                    <th class="text-center">Platform</th>
                                    <th class="text-center">Created</th>
                                    <th class="text-center">Delete</th>
                                </tr>
                                </thead>
                                <tbody id="containerTableBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </li>
            </ol>
            <h6 class="mb-2 font-weight-bold text-gray-800">⌘ Image List</h6>
            <ol class="mb-4 list-group list-group-numbered">
                <li class="list-group-item">
                    <div class="ms-2 me-auto">
                        <div class="mb-1 font-weight-bold text-primary">Images</div>
                        <div class="table-responsive">
                            <table class="table table-bordered" id="imageTable" width="100%" cellspacing="0">
                                <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Repository</th>
                                    <th>Tag</th>
                                    <th>Size</th>
                                </tr>
                                </thead>
                                <tbody id="imageTableBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </li>
            </ol>
            <h6 class="mb-2 font-weight-bold text-gray-800">⌘ DockerFile</h6>
            <ol class="mb-4 list-group list-group-numbered">
                <li class="list-group-item">
                    <div class="ms-2 me-auto">
                        <form id="uploadForm" enctype="multipart/form-data">
                        <div class="mb-1 font-weight-bold text-primary">DockerFile</div>
                        </form>
                        <div class="row">
                        <div class="custom-file col-md-4">
                            <input type="file" class="custom-file-input" id="dockerFile">
                            <label class="custom-file-label" for="dockerFile">Choose Dockerfile</label>
                        </div>
                        <button id="uploadDockerFile" class="col-md-1 ml-1 btn  btn-primary btn-icon-split ">
                            <span class="text">Upload</span>
                        </button>
                        <button class="col-md-1 ml-1 btn btn-primary btn-icon-split" data-target="#dockerFileModal" data-toggle="modal">
                            <span class="text">View</span>
                        </button>
                        </div>
                    </div>
                </li>
            </ol>
        </div>
    </div>
    <!-- Button trigger modal -->
<!-- /.container-fluid -->
</div>
</body>

<!-- Modal -->
<div class="modal fade" id="dockerFileModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">DockerFile</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div id="dockerfilePayload" class="modal-body">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="containerCreateModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="containerCreateModalLabel">Select Image</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <label for="selectedImageId"></label>
            <select id="selectedImageId" multiple>
                </select>
            <div class="modal-footer">
                <button type="button" id="createContainerBtn" class="btn btn-primary" data-dismiss="modal">Create</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>


<!-- Page level plugins -->
<script th:inline="javascript">
    /*<![CDATA[*/
    var serverName = [[${serverName}]];
    /*]]>*/
</script>
<script src="/js/service/server/single.js"></script>
<script src="/vendor/datatables/jquery.dataTables.min.js"></script>
<script src="/vendor/datatables/dataTables.bootstrap4.min.js"></script>

<!-- Page level custom scripts -->
<!--<script src="js/demo/datatables-demo.js"></script>-->
<!-- Service scripts -->
</html>